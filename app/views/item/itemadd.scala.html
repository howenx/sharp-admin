@import play.i18n._
@(lang:String="cn", brandsList:List[entity.Brands], catesParentList:List[entity.Cates],user:entity.User)

@scripts = {

<link href="/assets/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/slider.css"/>
<link rel="stylesheet" href="/assets/css/item.css"/>
<link rel="stylesheet" href="/assets/css/prods.css"/>
<style type="text/css">
    .gridly, .gridly > :not(.dragging) {
    -webkit-transition: all 0.4s ease-in-out;
    -moz-transition: all 0.4s ease-in-out;
    transition: all 0.4s ease-in-out;
    }
    .gridly .dragging {
    z-index: 800;
    }
</style>
<script type="text/javascript">
$(function(){
    $('.gridly').gridly({
        base: 60, // px
        gutter: 15, // px
        columns: 12
    });
    $(".btn-del").click(function(){
        $(this).parents(".brick.small").remove();
    });
});
</script>
<script type="text/javascript" src="/assets/js/jquery.gridly.js" charset="UTF-8"></script>
<script type="text/javascript" src="/assets/js/bootstrap-datetimepicker.js" charset="UTF-8"></script>
<script type="text/javascript" src="/assets/js/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
<script src="/assets/js/bootstrap-datetimepicker.ko.js"></script>
<script src="/assets/js/rili.js"></script>
<script>window.lang = "@lang"</script>
}

@import java.lang.String; val title=Messages.get(new Lang(Lang.forCode(lang)),"item.add.prodsAddTitle")

@layout(lang=lang,title=title,user=user)(scripts) {

<div style="width: 50%;margin: 10px auto;display:none;" class="alert alert-success" role="alert">
    <strong>Well done!</strong>
    @if(flash.containsKey("success")) {
    @flash.get("success")
    }
    <span class="close" aria-label="Close"><span aria-hidden="true">&times;</span></span>
</div>

<div class="mbread">
    <div class="bread-path">
        <span class="index">@Messages.get(new Lang(Lang.forCode(lang)),"page.head.path.title")</span>
        <a href="/@lang/front"><span class="current">@Messages.get(new Lang(Lang.forCode(lang)),"nav.home")</span></a>
        <span class="icon-path">&gt;</span>
        <span class="current">@Messages.get(new Lang(Lang.forCode(lang)),"nav.products")</span>
        <span class="icon-path">&gt;</span>
        <span>@Messages.get(new Lang(Lang.forCode(lang)),"nav.products.menu2")</span>
    </div>
</div>
<div class="wrap-slider">
    <div class="page-title">
        <span class="title-name">@Messages.get(new Lang(Lang.forCode(lang)),"item.add.prodsAddTitle")</span>
    </div>
    <div class="usercenter-option">
        <div class="user-state fl">@Messages.get(new Lang(Lang.forCode(lang)),"themes.slider.state1")</div>
        <div  id="submitProducts" class="btn-blue btn-form fr ml15">@Messages.get(new Lang(Lang.forCode(lang)),"themes.slider.save")</div>
        <div id="cancel" class="btn-white btn-form fr ml20">@Messages.get(new Lang(Lang.forCode(lang)),"themes.slider.cancel")</div>
        <span id="js-userinfo-error" class="mt20 alt fr"></span>
    </div>
    <div class="row">
        <form class="form-horizontal" method="post" action="" id="" enctype="multipart/form-data">
            <div class="upinfo">
            <h4 class="h4-custom-hmm">@Messages.get(new Lang(Lang.forCode(lang)),"item.detail.basics")</h4>
            <div class="form-group">
                <label class="col-sm-2 control-label">语言</label>
                <input id="lang-input" type="hidden" value="@lang">
                <div class="col-sm-2">
                    <select class="form-control" id="language" name="language" onchange="changeLang()">
                        <option value="">@Messages.get(new Lang(Lang.forCode(lang)),"item.add.pleaseSelect")</option>
                        <option value="cn">Chinese</option>
                        <option value="en">English</option>
                        <option value="kr">Korea</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">类别</label>
                <div class="col-sm-2">
                    <select class="form-control" id="categorySelect">
                        <option value="">@Messages.get(new Lang(Lang.forCode(lang)),"item.add.pleaseSelect")</option>
                        @for(cates <- catesParentList) {
                        @if(lang=="cn") {
                        <option value="@cates.getCateId()">@cates.getCateNameCn()
                        </option>
                        }
                        @if(lang=="en") {
                        <option value="@cates.getCateId()">@cates.getCateNameEn()
                        </option>
                        }
                        @if(lang=="kr") {
                        <option value="@cates.getCateId()">@cates.getCateNameKr()
                        </option>
                        }
                        }
                    </select>
                </div>
                <div class="col-sm-2" id="divDynamicSubCates">
                    <select class="form-control" id='categorySubSelect' name="cateId">
                        <option value="">@Messages.get(new Lang(Lang.forCode(lang)),"item.add.pleaseSelect")</option>
                    </select>
                </div>
                <label class="col-sm-2 control-label">品牌</label>
                <div class="col-sm-4">
                    <select class="form-control" id="bandSelect" name="brandId">
                        <option value="">@Messages.get(new Lang(Lang.forCode(lang)),"item.add.pleaseSelect")</option>
                        @for(b <- brandsList) {
                        @if(lang=="cn") {
                        <option value="@b.getBrandId()">@b.getBrandNmCn()
                        </option>
                        }
                        @if(lang=="en") {
                        <option value="@b.getBrandId()">@b.getBrandNmEn()
                        </option>
                        }
                        @if(lang=="kr") {
                        <option value="@b.getBrandId()">@b.getBrandNmKr()
                        </option>
                        }
                        }
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">商品名称</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control">
                </div>
                <label class="col-sm-2 control-label">商品标题</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">海关编码</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control">
                </div>
                <label class="col-sm-2 control-label">原产地</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">上架时间</label>
                <div class="col-sm-4">
                    <div class="input-group date form_datetime" data-date-format="dd-mm-yyyy hh:ii" data-link-field="dtp_input1">
                        <input class="form-control" size="16" type="text" value="" readonly id="sellOffDate" name="sellOffDate"/>
                        <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                        <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                    </div>
                </div>
                <label class="col-sm-2 control-label">下架时间</label>
                <div class="col-sm-4">
                    <div class="input-group date form_datetime" data-date-format="dd-mm-yyyy hh:ii" data-link-field="dtp_input1">
                        <input class="form-control" size="16" type="text" value="" readonly id="sellOnDate" name="sellOffDate">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                        <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                    </div>
                </div>
            </div>
        </div>
        <!-- 库存信息-->
        <div class="stock-info">
            <h4 class="h4-custom-hmm">@Messages.get(new Lang(Lang.forCode(lang)),"item.detail.stock")</h4>
            <div class="form-group">
                <label class="col-sm-2 control-label"></label>
                <div class="col-sm-10">
                    <table class="table table-bordered col-sm-10">
                        <tr>
                            <td>颜色</td>
                            <td>尺寸</td>
                            <td>库存量</td>
                            <td>现价</td>
                            <td>原价</td>
                            <td>折扣</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>总计</td>
                            <td colspan="5"></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <!--详情-->
        <div class="detailed-info">
            <h4 class="h4-custom-hmm">@Messages.get(new Lang(Lang.forCode(lang)),"item.detail.details")</h4>
            <div class="form-group">
                <label class="col-sm-2 control-label">主图</label>
                <div class="col-sm-3">
                    <div class="detail-main">
                        <div class="img-rongqi">
                            <img src="/assets/images/1.jpg" alt="">
                            <div class="btn-main">
                                <button class="btn btn-primary active btn-xs" role="button" style="position: relative">
                                    编辑
                                    <input type="file">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">商品预览图</label>
                <div class="col-sm-10">
                    <div class="gridly">
                        <div class="brick small">
                            <div class="img-rongqi">
                                <img src="/assets/images/1.jpg" alt="">
                                <div class="btn-main">
                                    <button class="btn btn-primary active btn-xs" role="button" style="position: relative">
                                        编辑
                                        <input type="file">
                                    </button>
                                    <button class="btn btn-primary active btn-xs btn-del" role="button" style="position: relative">
                                        删除
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="brick small">
                            <div class="img-rongqi">
                                <img src="/assets/images/1.jpg" alt="">
                                <div class="btn-main">
                                    <button class="btn btn-primary active btn-xs" role="button" style="position: relative">
                                        编辑
                                        <input type="file">
                                    </button>
                                    <button class="btn btn-primary active btn-xs btn-del" role="button" style="position: relative">
                                        删除
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="brick small">
                            <div class="img-rongqi">
                                <img src="/assets/images/1.jpg" alt="">
                                <div class="btn-main">
                                    <button class="btn btn-primary active btn-xs" role="button" style="position: relative">
                                        编辑
                                        <input type="file">
                                    </button>
                                    <button class="btn btn-primary active btn-xs btn-del" role="button" style="position: relative">
                                        删除
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">商品详细图</label>
                <div class="col-sm-10">
                    <div class="gridly">
                        <div class="brick small">
                            <div class="img-rongqi">
                                <img src="/assets/images/1.jpg" alt="">
                                <div class="btn-main">
                                    <button class="btn btn-primary active btn-xs" role="button" style="position: relative">
                                        编辑
                                        <input type="file">
                                    </button>
                                    <button class="btn btn-primary active btn-xs btn-del" role="button" style="position: relative">
                                        删除
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="brick small">
                            <div class="img-rongqi">
                                <img src="/assets/images/1.jpg" alt="">
                                <div class="btn-main">
                                    <button class="btn btn-primary active btn-xs" role="button" style="position: relative">
                                        编辑
                                        <input type="file">
                                    </button>
                                    <button class="btn btn-primary active btn-xs btn-del" role="button" style="position: relative">
                                        删除
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="brick small">
                            <div class="img-rongqi">
                                <img src="/assets/images/1.jpg" alt="">
                                <div class="btn-main">
                                    <button class="btn btn-primary active btn-xs" role="button" style="position: relative">
                                        编辑
                                        <input type="file">
                                    </button>
                                    <button class="btn btn-primary active btn-xs btn-del" role="button" style="position: relative">
                                        删除
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">商品描述</label>
                <div class="col-sm-10">
                    <input type="text"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">商品属性</label>
                <div class="col-sm-10">
                    <table class="table table-bordered">
                        <tr>
                            <td>属性名</td>
                            <td>属性值</td>
                        </tr>
                        <tr>
                            <td>123</td>
                            <td>456</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <!--商品设置-->
        <div class="goods-setting">
            <h4 class="h4-custom-hmm">商品设置</h4>
            <div class="form-group">
                <label class="col-sm-2 control-label">是否支持拼购</label>
                <div class="col-sm-4">
                    <div class="radio-border">
                        <label class="radio-inline">
                            <input type="radio" name="inlineRadioOptions" value="option1"> 是
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="inlineRadioOptions" value="option1"> 否
                        </label>
                    </div>
                </div>
                <label class="col-sm-2 control-label">分享链接生成</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control" readonly>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">是否限购</label>
                <div class="col-sm-4">
                    <div class="radio-border">
                        <label class="radio-inline">
                            <input type="radio" name="xiangou"> 是
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="xiangou"> 否
                        </label>
                    </div>
                </div>
                <label class="col-sm-2 control-label">限购数量</label>
                <div class="col-sm-4">
                    <input type="number" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">是否包邮</label>
                <div class="col-sm-4">
                    <div class="radio-border">
                        <label class="radio-inline">
                            <input type="radio" name="baoyou"> 是
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="baoyou"> 否
                        </label>
                    </div>
                </div>
                <label class="col-sm-2 control-label">起始收藏量</label>
                <div class="col-sm-4">
                    <input type="number" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">分享图片</label>
                <div class="col-sm-3">
                    <div class="sctp" style="width:350px">
                        <div class="sctp1 l">
                            <a href="#" id="masterImgAdd">@Messages.get(new Lang(Lang.forCode(lang)),"item.add.addPic")</a>
                            <input type="hidden" id="masterImg" name="masterImg" value=""/>
                            <input type="file" id="M" name="image" class="hidden1" value="" accept="image/gif, image/jpeg, image/webp, image/png" />
                            <span>仅能上传一张</span>
                        </div>
                        <div class="imgk l" id="galleryM" style="width:150px">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">发货区域</label>
                <div class="col-sm-2">
                    <input type="text" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">发货日期</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control">
                </div>
                <div class="col-sm-2">
                    <span style="line-height: 34px">(多久可以发货)</span>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">商品重要通知</label>
                <div class="col-sm-10">
                    <textarea></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">商品宣传标语</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control">
                </div>
                <div class="col-sm-2">
                    <button class="btn btn-primary btn-sm">add</button>
                </div>
            </div>
            <div class="col-sm-offset-2">
                <table class="table table-bordered">
                    <tr>
                        <td>123</td>
                    </tr>
                    <tr>
                        <td>456</td>
                    </tr>
                    <tr>
                        <td>789</td>
                    </tr>
                </table>
            </div>
        </div>
        <!--选择主题-->
        <div class="theme-change">
            <h4 class="h4-custom-hmm">主题选择</h4>
            <div class="form-group">
                <label class="col-sm-2 control-label">是否已加入主题</label>
                <div class="col-sm-4">
                    <label class="radio-inline">
                        <input type="radio" name="orJoinTheme"> 是
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="orJoinTheme"> 否
                    </label>
                </div>
                <label class="col-sm-2 control-label">主题ID</label>
                <div class="col-sm-4" style="line-height: 34px">
                    <span class="tanch"></span>
                    <button class="btn btn-primary active btn-xs" role="button" onclick="ShowModal()">
                        选择
                    </button>
                </div>
            </div>
        </div>
        </form>
    </div>
</div>

<div class="goods-img-bg">
    <div class="goods-bg"></div>
    <div class="goods-img">
        <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    </div>
</div>
}

<script type="text/javascript">
$(function()  {
    var language = $('#lang-input').val();
    $("#language").val(language);
    /* 一级类别改变重新加载二级类别*/
    $('#categorySelect').change(function() {
        var pcid = $("#categorySelect").val();
        $.ajax({
            type: "get",
            data: "pcid="+ pcid,
            url: "/getSubcates",
            success: function(data) {
                if (typeof data != undefined && data.length > 0 && data != null) {
                    $('#categorySubSelect').empty();
                    $('#categorySubSelect').append('<option value=""></option>');
                    $.each(data, function (i, item) {
                        if (window.lang == 'cn') {
                             $('#categorySubSelect').append("<option value=" + item.cateId + ">" + item.cateNameCn + "</option>");
                        } else if (window.lang  == 'en') {
                             $('#categorySubSelect').append("<option value=" + item.cateId + ">" + item.cateNameEn + "</option>");
                        } else if (window.lang  == 'kr') {
                             $('#categorySubSelect').append("<option value=" + item.cateId + ">" + item.cateNameKr + "</option>");
                        }
                    });
                }
                else {
                    $("#categorySubSelect").empty();
                }
            }
        });
    });
});

/** 更改语言 **/

function changeLang() {
    var lang = $("#language").val();
    if (lang == "") {
        location.href='/comm/add';
    } else {
        location.href='/'+lang+'/comm/add';
    }

}
</script>
