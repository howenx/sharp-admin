@import play.i18n._
@(lang:String="cn",pageSize:Integer, countNum:Integer, pageCount:Integer, user:domain.User)
@scripts = {
<link rel="stylesheet" href="/assets/css/bootstrap.min.css" >
<link rel="stylesheet" href="/assets/css/bootstrap-datetimepicker1.css"/>
<link rel="stylesheet" href="/assets/css/search.css">
<link rel="stylesheet" href="/assets/css/slider.css">
<link rel="stylesheet" href="/assets/css/salesdata.css">
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/moment-with-locales.js"></script>
<script src="/assets/js/bootstrap-datetimepicker1.js"></script>

<script>
    $(function () {

        $('#datetimepicker-starttime').datetimepicker({
            locale: 'zh-cn',
            format:'YYYY-MM-DD'
        });
        $('#datetimepicker-endtime').datetimepicker({
            locale: 'zh-cn',
            format:'YYYY-MM-DD'
        });

        benzhou();

        $(".table-nav>li").click(function () {
            benzhou();
            var index = $(this).index();
            $(".table-nav>li").removeClass("active").eq(index).addClass("active");
            $(".tablenum").css("display","none").eq(index).css("display","block");
            $(".table-h3").html($(this).html());
        });

//        $(".choose").click(function () {
//            var start = new Date($("#topic-form-starttime").val()).getTime();
//            var end = new Date($("#topic-form-endtime").val()).getTime();
//            $(".sedate").each(function () {
//                console.log(1);
//                if( !(new Date($(this).html().split(" ")[0]).getTime() >=start && new Date($(this).html().split(" ")[0]).getTime()<=end+86399000)){
//                    $(this).parent().css("display","none");
//                }else{
//                    $(this).parent().css("display","table-row");
//                }
//            })
//        });

        function benzhou() {
            var now=new Date();
            var start=new Date();
            var end=new Date();

            var n=now.getDay();

            start.setDate(now.getDate()-n+1);
            end.setDate(now.getDate()-n+7);

            start = start.getFullYear() + "-" + (start.getMonth()+1) + "-" + start.getDate();
            end = end.getFullYear() + "-" + (end.getMonth()+1) + "-" + end.getDate();

            $("#topic-form-starttime").val(start);
            $("#topic-form-endtime").val(end);
            $("#topic-search-bt").trigger("click");
        }

        $(".yesterday").click(function () {
            var now=new Date();
            var start=new Date();
            start.setDate(now.getDate()-1);

            start = start.getFullYear() + "-" + (start.getMonth()+1) + "-" + start.getDate();

            $("#topic-form-starttime").val(start);
            $("#topic-form-endtime").val(start);

             <!--$("#topic-search-bt").removeAttr("id");-->
            <!--$(".yesterday").attr({"id":"topic-search-bt"});-->
            $("#topic-search-bt").trigger("click");

        });
        $(".today").click(function () {
            var start=new Date();

            start = start.getFullYear() + "-" + (start.getMonth()+1) + "-" + start.getDate();

            $("#topic-form-starttime").val(start);
            $("#topic-form-endtime").val(start);

            <!--$("#topic-search-bt").removeAttr("id");-->
            <!--$(".yesterday").attr({"id":"topic-search-bt"});-->
            $("#topic-search-bt").trigger("click");

        });

        $(".benzhou").click(function () {
            benzhou();
        })

        $(".benyue").click(function () {
            var now = new Date();
            //获取天数：
            var day = new Date(now.getFullYear(),now.getMonth()+1,0);
            var daycount = day.getDate();
            var start = now.getFullYear() + "-" + (now.getMonth()+1) + "-" + "01";
            var end = now.getFullYear() + "-" + (now.getMonth()+1) + "-" + daycount;

            $("#topic-form-starttime").val(start);
            $("#topic-form-endtime").val(end);
            $("#topic-search-bt").trigger("click");
        })
    });
</script>
<!--分页-->
<link href="/assets/css/myPage.css" rel="stylesheet" type="text/css" />
<script src="/assets/js/jqPaginator.min.js" type="text/javascript"></script>
<script src="/assets/js/myPage.js" type="text/javascript"></script>
<script src="/assets/js/search.js"></script>
<!-- 此为调用分页所提供的函数名前缀 -->
<script>window.search_args = 'salesData'</script>
}

@import java.lang.String; val title="销售数据"

@layout(lang=lang, title=title,user=user)(scripts) {
<div class="mbread">
    <div class="bread-path">
        <span class="index">@Messages.get(new Lang(Lang.forCode(lang)),"page.head.path.title")</span>
        <a href="/@lang/summary"><span class="current">@Messages.get(new Lang(Lang.forCode(lang)),"nav.home")</span></a>
        <span class="icon-path">&gt;</span>
        <span class="current">@Messages.get(new Lang(Lang.forCode(lang)),"nav.data.sell")</span>
        <span class="icon-path">&gt;</span>
        <span>销售数据</span>
    </div>
</div>
<div class="content-1">
    <div class="page-title">
        <span class="title-name">销售数据</span>
    </div>
    <div class="row" style="height: 100%;padding-left: 15px">
        <div class="col-sm-2" style="height: 100%;padding: 0">
            <ul class="table-nav">
                <li class="active">销售收入统计</li>
                <li>商品销售情况</li>
                <li>商品销售排行</li>
            </ul>
        </div>
        <div class="col-sm-10">
            <form class="form-horizontal">
                <h3 class="table-h3">销售收入统计</h3>
                <div class="form-group">
                    <label class="col-sm-2 control-label">时间范围</label>
                    <div class="col-sm-5">
                        <div id="datetimepicker-starttime" class="input-group date" style="width: 45%;float:left">
                            <input id = "topic-form-starttime" class="form-control col-sm-2"  type="text">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                        <span style="line-height: 34px;float: left;width: 10%;text-align: center">至</span>
                        <div id="datetimepicker-endtime" class="input-group date" style="width: 45%;float:right">
                            <input id = "topic-form-endtime" class="form-control col-sm-2"  type="text">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                    </div>
                    <div class="col-sm-4" style="line-height: 34px">
                        <button type="button" class="btn btn-primary btn-xs choose" id="topic-search-bt">确定</button>
                        <button type="button" class="btn btn-xs yesterday">昨日</button>
                        <button type="button" class="btn btn-xs today">今天</button>
                        <button type="button" class="btn btn-xs benzhou">本周</button>
                        <button type="button" class="btn btn-xs benyue">本月</button>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-12 money">
                        <div class="money-1"><span>收款额:</span><i>21323</i></div>
                        <div class="money-2"><span>退款额:</span><i>21323</i></div>
                        <div class="money-3"><span>收入:</span><i>21323</i></div>
                    </div>
                </div>
                <!--表格-->
                <div>
                    <div class="generate-table">
                        <a href="" class="btn btn-primary">生成报表</a>
                    </div>
                    <div class="tablenum one">
                        <!--id必须为tb-topic 公用js需要使用-->
                        <table id="tb-topic" class="table table-striped table-hover">
                            <thead>
                            <tr>
                                <th>日期</th>
                                <th>订单号</th>
                                <th>交易金额</th>
                                <th>订单类型</th>
                                <th>交易流水号</th>
                            </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>

                    </div>
                    <div class="tablenum">
                        <table class="table table-striped table-hover">
                            <tr>
                                <th>001</th>
                                <th>002</th>
                                <th>003</th>
                                <th>004</th>
                                <th>005</th>
                            </tr>
                            <tr>
                                <td>001</td>
                                <td>002</td>
                                <td>003</td>
                                <td>004</td>
                                <td>005</td>
                            </tr>
                            <tr>
                                <td>001</td>
                                <td>002</td>
                                <td>003</td>
                                <td>004</td>
                                <td>005</td>
                            </tr>
                            <tr>
                                <td>001</td>
                                <td>002</td>
                                <td>003</td>
                                <td>004</td>
                                <td>005</td>
                            </tr>
                            <tr>
                                <td>001</td>
                                <td>002</td>
                                <td>003</td>
                                <td>004</td>
                                <td>005</td>
                            </tr>
                        </table>
                    </div>
                    <div class="tablenum">
                        <table class="table table-striped table-hover">
                            <tr>
                                <th>001</th>
                                <th>002</th>
                                <th>003</th>
                                <th>004</th>
                                <th>005</th>
                            </tr>
                            <tr>
                                <td>01</td>
                                <td>02</td>
                                <td>03</td>
                                <td>04</td>
                                <td>05</td>
                                <td>06</td>
                                <td>07</td>
                            </tr>
                            <tr>
                                <td>01</td>
                                <td>02</td>
                                <td>03</td>
                                <td>04</td>
                                <td>05</td>
                                <td>06</td>
                                <td>07</td>
                            </tr>
                            <tr>
                                <td>01</td>
                                <td>02</td>
                                <td>03</td>
                                <td>04</td>
                                <td>05</td>
                                <td>06</td>
                                <td>07</td>
                            </tr>
                            <tr>
                                <td>01</td>
                                <td>02</td>
                                <td>03</td>
                                <td>04</td>
                                <td>05</td>
                                <td>06</td>
                                <td>07</td>
                            </tr>
                            <tr>
                                <td>01</td>
                                <td>02</td>
                                <td>03</td>
                                <td>04</td>
                                <td>05</td>
                                <td>06</td>
                                <td>07</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <!-- 公用分页模块,直接拷贝,传入相应的字段即可-->
                <p class="page-toolbar-title">@Messages.get(new Lang(Lang.forCode(lang)), "themes.search.table.page.toolbar", countNum, pageSize, pageCount)</p>
                <ul class="pagination" id="pagination">
                    <input type="hidden" value="@pageCount" id="pagecount">
                </ul>
                <!-- 公用模块,直接拷贝-->
            </form>
        </div>
    </div>
</div>


}